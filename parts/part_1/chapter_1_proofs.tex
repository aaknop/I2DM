\chapter{Proofs}
\label{chapter:proofs}
\section{Direct Proofs}
\marginurl{%
    What is a Mathematical Proof:\\\noindent
    Introduction to Mathematical Reasoning \#1
}{youtu.be/eJD0gGqveIE}

We start the discussion of the proofs in mathematics from an example of a proof
in ``everyday'' life. Assume that we know that the following statements are
true.
\begin{enumerate}
    \item If a salmon has fins and scales it is kosher,
    \item if a salmon has scales it has fins,
    \item any salmon has scales.
\end{enumerate}
Using these facts we may conclude that any salmon is kosher; indeed, any salmon
has scales by the third statement, hence, by the second statement any salmon has
fins, finally, by the first statement any salmon is kosher since it has fins and
scales.

One may notice that this explanation is a sequence of conclusions such that
each of them is true because the previous one is true.
Mathematical proof is also a sequence of statements such that every statement
is true if the previous statement is true. If $P$ and $Q$ are some statements
and $Q$ is always true when $P$ is true, then we say that $P$ implies $Q$.
We denote the statement that $P$ implies $Q$ by $P \implies Q$.

\nomenclature[L]{$P \implies Q$}{denotes the statement saying that
if $P$ is true, then $Q$ is true as well}


In order to define the implication formally let us consider the following table.
\begin{center}
  \begin{tabular}{ l l l }
      \toprule
      $P$ & $Q$ & $P \implies Q$ \\
      \midrule
      T   & T   & T \\
      T   & F   & F \\
      F   & T   & T \\
      F   & F   & T \\
      \bottomrule
  \end{tabular}
\end{center}
Let $P$ and $Q$ be some statements. Then this table says that if $P$ and $Q$
are both false, then $P \implies Q$ is true etc.

\begin{exercise}
  Let $n$ be an integer.
  \begin{enumerate}
    \item Is it always true that ``$n^2$ is positive''
      implies ``$n$ is not equal to $0$''?
    \item Is it always true that ``$n^2 - n - 2$ is equal to $0$'' implies
      ``$n$ is equal to $2$''?
  \end{enumerate}
\end{exercise}
In the example we gave at the beginning of the section we used some
\emph{known} facts. But what does it mean to know something? In math we
typically say that we know a statement if we can prove it. But in order to prove
this statement we need to know something again, which is a problem! In order to
solve it, mathematicians introduced the notion of an \emph{axiom}.
An axiom is a statement that is believed to be true and when we prove a statement
we prove it under the assumption that these axioms are true\footnote{Note that
in different parts of mathematics axioms may be different.}.

For example, we may consider axioms of inequalities for real numbers.
\begin{enumerate}
  \item Let $a$ and $b$ be real numbers. Only one of the following is true:
    \begin{itemize}
      \item $a < b$,
      \item $b < a$, or
      \item $a = b$.
    \end{itemize}
  \item Let $a$, $b$, and $c$ be real numbers. Then $a < b$ iff $a + c < b + c$
    (iff is an abbreviation for ``if and only if'').
  \item Let $a$, $b$, and $c$ be real numbers. Then $a < b$ iff $ac < bc$
    provided that $c > 0$ and $a < b$ iff $ac > bc$ if $c < 0$.
  \item Let $a$, $b$, $c$ be real numbers. If $a < b$ and $b < c$, then $a < c$.
\end{enumerate}

\marginurl{%
  What We Know and How to Find a Proof:\\\noindent
  Introduction to Mathematical Reasoning \#2
}{youtu.be/nBjJi6aTk2M}


Let us now try to prove something using these axioms, we prove that if $a > 0$,
then $a^2 > 0$. Note that $a > 0$, hence, by the third axiom $a^2 > 0$
(note that we also used an additional statement saying that $0 \cdot 0 = 0$).

Similarly, we may prove that if $a < 0$, then $a^2 > 0$. And combining these
two statements together we may prove that if $a \neq 0$, then $a^2 > 0$.

Proofs like this are called direct proofs.

\begin{exercise}
  Consider another set of axioms; these axioms describe some objects that look
  like geometrical obejects, so they are called axioms of four-point geometry.

  These aximoms are using three undefined terms: ``point'', ``line'', and ``is
  on''. The axioms are the following statements.
  \begin{itemize}
    \item For every pair of distinct points $x$ and $y$, there is a unique line
      $\ell$ such that x is on l and y is on l.
    \item Given a line $\ell$ and a point $x$ that is not on $\ell$, there is a
      unique line $m$ such that $x$ is on $m$ and no point on $\ell$ is also on
      $m$.
    \item There are exactly four points.
    \item It is impossible for three points to be on the same line.
  \end{itemize}

  Prove (using these axioms) that there are at least two distinct lines.
\end{exercise}

Let $n$ and $m$ be some integers. Using direct proofs we may prove the
following two statements.
\begin{itemize}
  \item if $n$ is even, then $nm$ is also even (a number $\ell$ is even
    if there is an integer $k$ such that $\ell = 2k$),
  \item if $n$ is even and $m$ is even, then $n + m$ is also even.
\end{itemize}

We start from proving the first statement. There is an integer $k$ such that
$n = 2k$ since $n$ is even. As a result, $nm = 2 (nk)$ so $nm$ is even.

Now we prove the second statement. Since $n$ and $m$ are even there are $k$ and
$\ell$ such that $n = 2k$ and $m = 2\ell$. Hence, $n + m = 2 (k + \ell)$ so
$n + m$ is even.

\section{Constructing Proofs Backwards}
However, sometimes it is not easy to find the proof. In this case one of the
possible methods to deal with this problem is to try to prove starting from
the end.

For example, we may consider the statement $(a + b)^2 = a^2 + 2ba + b^2$.
Imagine, for a second, that you have not learned about axioms.
In this case you would write something like this:
\begin{multline*}
    (a + b)^2 = (a + b) \cdot (a + b) = \\
    a (a + b) + b (a + b) = \\
    a^2 + ab + ba + b^2 = a^2 + 2ba + b^2.
\end{multline*}

Let us try to prove it completely formally using the following axioms.
\begin{enumerate}
  \item Let $a$, $b$, and $c$ be real number. If $a = b$ and $b = c$, then $a =
    c$.
  \item Let $a$, $b$, and $c$ be real numbers. If $a = b$, then $a + c = b + c$
    and $c + a = c + b$.
  \item Let $a$, $b$, and $c$ be real numbers. Then $a (b + c) = ab + ac$.
  \item Let $a$ and $b$ be real numbers. Then $ab = ba$.
  \item Let $a$ and $b$ be real numbers. Then $a + b = b + a$.
  \item Let $a$ be a real number. Then $a^2 = a \cdot a$ and $a \cdot a = a^2$.
  \item Let $a$ be a real number. Then $a + a = 2a$.
\end{enumerate}
So the formal proof of the statement $(a + b)^2 = a^2 + 2ab + b^2$ is as
follows. First note that $(a + b)^2 = (a + b) \cdot (a + b)$ (by axiom~6),
hence, by axiom~1, it is enough to show that
$(a + b) \cdot (a + b) = a^2 + 2ab + b^2$. By axiom~3,
$(a + b) \cdot (a + b) = (a + b) \cdot a + (a + b) \cdot b$. Axiom~4 implies
that $(a + b) \cdot a = a \cdot (a + b)$ and $(a + b) \cdot b = b \cdot (a + b)$
Hence, by axioms~1 and~2 applied twice
\[
  a \cdot (a + b) + b \cdot (a + b) =
  (a + b) \cdot a + b \cdot (a + b) =
  (a + b) \cdot a + (a + b) \cdot b.
\]
As a result,
\begin{multline*}
  (a + b) \cdot (a + b) =
  (a + b) \cdot a + (a + b) \cdot b = \\
  a \cdot (a + b) + b \cdot (a + b) =
  a \cdot a + a \cdot b + b \cdot a + b \cdot b;
\end{multline*}
so by axiom 1, it is enough
to show that $a \cdot a + a \cdot b + b \cdot a + b \cdot b = a^2 + 2ab + b^2$.
Additionally, by axiom~6, $a \cdot a = a^2$ and $b \cdot b = b^2$. Hence, by
axiom~2, it is enough to show that
$a^2 + a \cdot b + b \cdot a + b^2 = a^2 + 2ab + b^2$. By axiom~4,
$a \cdot b = b \cdot a$, hence, by axiom~2,
$a \cdot b + b \cdot a = b \cdot a + b \cdot a$. Therefore by axiom~7,
$a \cdot b + b \cdot a = 2 b \cdot a$. Finally, by axiom~2,
$a \cdot b + b \cdot a + a^2 + b^2 = 2b \cdot a + a^2 + b^2$ and by axiom~5,
$a \cdot b + b \cdot a + a^2 + b^2 = a^2 + a \cdot b + b \cdot a + b^2$ and
$2b \cdot a + a^2 + b^2 =  a^2 + 2b \cdot a + b^2$. Which finishes the proof by
axiom~1.

\section{Analysis of Simple Algorithms}
\label{section:simple-algorithm}
We can use this knowledge to analyze simple algorithms. For example, let us
consider the following algorithm.
\begin{algorithm}
  \begin{algorithmic}[1]
    \Function{Max}{$a$, $b$, $c$}
      \State $r \gets a$
      \If {$b > r$}
        \State $r \gets b$
      \EndIf

      \If {$c > r$}
        \State $r \gets c$
      \EndIf
      \State \Return $r$
    \EndFunction
  \end{algorithmic}
  \caption{The algorithm that finds the maximum element of $a$, $b$, $c$.}
\end{algorithm}
We may prove that it is correct; i.e. it returns the maximum of $a$, $b$, and
$c$. We need to consider the following cases.
\begin{itemize}
  \item If the maximum is equal to $a$. In this case, at line~2, we set $r = a$,
    at line~3 the inequality $b > r$ is false (since $a = r$ is the maximum) and
    at line~6 the inequality $c > r$ is also false (since $a = r$ is the
    maximum). Hence, we do not change the value of $r$ after line~2 and
    the returned value is $a$.
  \item If the maximum is equal to $b$. We set $r = a$ at line~2.
    The inequality $b > r$ at line~3 is true (since $b$ is the maximum) and
    we set $r$ to be equal to $b$.
    So at line~6, the inequality $c > r$ is false (since $b = r$ is the
    maximum). Hence, the returned value is $b$.
  \item If the maximum is equal to $c$. We set $r = a$ at line~2.
    If the inequality $b > r$ is true at line~3 we set $r$ to be equal to $b$.
    So at line~6 the inequality $c > r$ is true (since $c$ is the
    maximum). Hence, we set $r$ being equal to $c$ and the returned value is
    $c$.
\end{itemize}

\section{Proofs in Real-life Mathematics}
In this chapter in most of the cases we explicitly used axioms to prove
statements. However, the resulting proofs are really long and hard to understand
(the last example in the previous section is a good example of this phenomenon).
Because of this mathematicians tend to skip steps in the proofs when they
believe that they are clear. It is worth to mention a nice quotation of Scott
Aaronson about this problem
\begin{displayquote}
  When mathematicians say that a theorem has been ``proved,'' they still mean,
  as they always have, something more like: ``we’ve reached a social consensus
  that all the ideas are now in place for a strictly formal proof that could be
  verified by a machine \dots with the only task remaining being massive rote
  coding work that none of us has any intention of ever doing!''
\end{displayquote}
This is the reason why it is arduous to read mathematical texts and it
is very different from reading non-mathematical books.
A problem that arises because of this tendency is that some mistakes may happen
if we skip way too many steps. In the last two centuries there were several
attempts to solve this issue, one approach to this we are going to discuss in
Part~\ref{part:logic}.
\marginurl{%
  Death of proof greatly exaggerated
}{scottaaronson.com/blog/?p=4133}


\begin{chapterendexercises}
  \exercise Using the axioms of inequalities show that if $a$ is a non-zero
    real number, then $a^2 > 0$.
  \exercise Using the axioms of inequalities prove that for all real
    numbers $a$, $b$, and $c$,
    \[
      bc + ac + ab \le a^2 + b^2 + c^2.
    \]
  \exercise[recommended] Prove that for all integers $a$, $b$, and $c$,
    If $a$ divides $b$ and $b$ divides $c$, then $a$ divides $c$.
    Recall that an integer $m$ divides an integer $n$ if there is an integer
    $k$ such that $mk = n$.
  \exercise[recommended] Show that square of an even integer is even.
  \exercise Prove that $0$ divides an integer $a$ iff $a = 0$.
  \exercise Using the axioms of inequalities, show that if $a > 0$, $b$, and $c$
    are real numbers, then $b \ge c$ implies that $ab \ge ac$.
  \exercise Using the axioms of inequalities, show that if $a, b < 0$ are real
    numbers, then $a \le b$ implies that $a^2 \ge b^2$.
\end{chapterendexercises}
